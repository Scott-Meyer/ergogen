points:
  key:
    padding: cy
    footprints:
      choc_hotswap:
        type: choc
        nets:
          from: =column_net
          to: GND
        params:
          keycaps: true
          reverse: true
          hotswap: true
      choc:
        type: choc
        anchor:
          rotate: 180
        nets:
          from: =column_net
          to: GND
        params:
          keycaps: true
          reverse: true
  zones:
    matrix:
      anchor:
        rotate: 0
      columns:
        outer:
          spread: cx
        pinky:
          spread: cx
        ring:
          spread: cx
        middle:
          spread: cx
        index:
          spread: cx
        inner:
          spread: cx
      rows:
        bottom:
          column_net: P6
        home:
          column_net: P6
        top:
          column_net: P6
    thumbfan:
      anchor:
        ref: matrix_inner_bottom
        shift: [-31, -19]
      columns:
        extra:
        near:
          spread: 21.25
        home:
          spread: 21.25
          rotate: -28
          origin: [-11.75, -9]
        far:
          spread: 21.25
          rotate: -28
          origin: [-9.5, -9]
      rows:
        thumb:
          column_net: P6

outlines:
  exports:
    raw: 
      - type: keys
        side: left
        size: [1cx , 1cx]
    cutout:
      - type: outline
        name: raw
        fillet: 3
    keycap_outlines:
      - type: keys
        side: left
        size: [1cx - 0.5, 1cy - 0.5] # Choc keycaps are 17.5 x 16.5
        bound: false     

pcbs:
  main:
    outlines:
      main:
        outline: cutout
    footprints:
      promicro:
        type: promicro
        anchor:
          ref: matrix_inner_top
          shift: [40, 0]
          rotate: 0
        params:
          orientation: down
      pcm12:
        type: pcm12
        anchor:
          ref: matrix_inner_top
          shift: [100, 0]
          rotate: 0
        nets:
          from: pos  
          to: RAW
        params:
          reverse: true 
      via3:
        type: via
        anchor: 
          ref: matrix_inner_top
          shift: [150,-10]
        nets: 
          net: RAW 
      via4:
        type: via
        anchor: 
          ref: matrix_inner_top
          shift: [200,-10]
        nets: 
          net: pos 
      via5:
        type: via
        anchor: 
          ref: matrix_inner_top
          shift: [300,-10]
        nets: 
          net: GND 
      via6:
        type: via
        anchor: 
          ref: matrix_inner_top
          shift: [400,-10]
        nets: 
          net: RST 
      b3u1000p:
        type: b3u1000p
        nets:
          r1: RST  
          r2: GND
        anchor:
          ref: matrix_inner_top
          shift: [500, -15]
          rotate: 0
        params:
          reverse: true 
      bat:
        type: bat
        nets: 
          neg: GND
        anchor:
          ref: matrix_inner_top
          shift: [600 , -0]
          rotate: 0
